@use "shared" as components-base;

// Downloads component â€” download item rows
// Section layout (title, description, spacing) uses standard nok-layout-grid + utility classes

.nok-downloads-list {
  display: grid;
  gap: var(--nok-space-sm);
  width: 100%;
}

.nok-download-item {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--nok-space-md);
  padding: var(--nok-space-md) var(--nok-space-lg);

  @include components-base.nok-border-radius;
  text-decoration: none;
  color: inherit;

  @include components-base.transition-properties {
    transition: background-color components-base.$animation-duration ease, box-shadow components-base.$animation-duration ease;
  }

  &:hover, &:focus-visible {
    background: hsla(var(--nok-white-hsl) / 0.14);
    text-decoration: none;
    color: inherit;
  }

  &:focus-visible {
    @include components-base.nok-focus-ring;
  }

  @include components-base.media-breakpoint-down(components-base.$mobile-breakpoint) {
    padding: var(--nok-space-sm) var(--nok-space-md);
    gap: var(--nok-space-sm);
  }

  // File type icon
  &__icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  // Title + meta info
  &__info {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
    min-width: 0; // prevent overflow
  }

  &__title {
    @include components-base.nok-heading-font;
    font-weight: 500;
    font-size: 1.1rem;
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;

    // When title is a link (site-wide downloads variant)
    &:is(a) {
      color: inherit;
      text-decoration: none;

      &:hover {
        text-decoration: underline;
        text-underline-offset: 0.15em;
      }
    }
  }

  &__meta {
    font-size: 0.85rem;
    opacity: 0.6;
    line-height: 1.3;
  }

  // Download arrow
  &__action {
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.5;
    color: inherit;
    text-decoration: none;

    @include components-base.transition-properties {
      transition: opacity components-base.$animation-duration ease, transform components-base.$animation-duration ease;
    }
  }

  // Source link (for downloads page with parent post references)
  &__source {
    grid-column: 2;
    font-size: 0.85rem;

    a {
      color: inherit;
      opacity: 0.7;
      text-decoration: underline;
      text-decoration-color: currentColor;
      text-underline-offset: 0.15em;

      @include components-base.transition-properties {
        transition: opacity components-base.$animation-duration ease;
      }

      &:hover {
        opacity: 1;
      }
    }
  }
}

// Variant for site-wide downloads (with source links)
.nok-downloads-list--with-sources {
  .nok-download-item {
    grid-template-rows: auto auto;

    .nok-download-item__icon,
    .nok-download-item__action {
      grid-row: span 2;
    }
  }
}
