(()=>{"use strict";const e=window.wp.hooks,n=window.wp.compose,o=window.wp.element,t=window.wp.blockEditor,l=window.wp.components,i=window.wp.i18n,r=window.ReactJSXRuntime,a=({value:e,onChange:n,icons:t})=>{const[l,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(""),d=Object.entries(t).flatMap(e=>Object.entries(e[1]).map(n=>({name:n[0],svg:n[1],category:e[0]}))),c=d.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())),u=d.find(n=>n.name===e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{children:"\n        svg.nok-icon {\n            width: 100%;\n            height: 100%;\n            display: block;\n        }\n    "}),(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"8px"},children:"Icon"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("div",{onClick:()=>i(!l),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",background:"#fff",minHeight:"40px"},children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{width:"24px",height:"24px",flexShrink:0},dangerouslySetInnerHTML:{__html:u.svg}}),(0,r.jsx)("span",{style:{fontSize:"13px"},children:u.name})]}):(0,r.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:"Select an icon..."})}),u&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),n("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#d63638",color:"#fff",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",fontWeight:"500"},title:"Clear icon",children:"Ã—"})]}),l&&(0,r.jsxs)("div",{style:{position:"absolute",zIndex:9999,background:"#fff",border:"1px solid #ddd",borderRadius:"4px",marginTop:"4px",maxHeight:"400px",width:"300px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",overflow:"hidden"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search icons...",value:a,onChange:e=>s(e.target.value),style:{width:"100%",padding:"8px",border:"none",borderBottom:"1px solid #ddd",fontSize:"13px",outline:"none"}}),(0,r.jsx)("div",{style:{overflowY:"auto",maxHeight:"350px",padding:"8px"},children:0===c.length?(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#757575",fontSize:"13px"},children:"No icons found"}):(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:c.map(o=>(0,r.jsx)("div",{onClick:()=>{n(o.name),i(!1),s("")},title:o.name,style:{padding:"2px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:e===o.name?"#e0f0ff":"#fff",transition:"all 0.15s",aspectRatio:"1"},onMouseEnter:n=>{e!==o.name&&(n.currentTarget.style.background="#f5f5f5")},onMouseLeave:n=>{e!==o.name&&(n.currentTarget.style.background="#fff")},children:(0,r.jsx)("div",{style:{width:"3em",height:"3em"},dangerouslySetInnerHTML:{__html:o.svg}})},o.name))})})]})]})]})},s=[{label:"Donkerblauw (standaard)",value:"darkblue"},{label:"Donkerste blauw",value:"darkestblue"},{label:"Wit",value:"white"},{label:"Lichtblauw",value:"lightblue"},{label:"Geel",value:"yellow"}],d=[{label:"Overnemen van knop",value:""},{label:"Standaard (geel)",value:"yellow"},...s.filter(e=>"yellow"!==e.value)],c={darkblue:"var(--nok-darkblue)",darkestblue:"var(--nok-darkestblue)",white:"var(--nok-white)",lightblue:"var(--nok-lightblue)",yellow:"var(--nok-yellow)"};(0,e.addFilter)("blocks.registerBlockType","nok2025/button-attributes",function(e,n){return"core/button"!==n?e:{...e,attributes:{...e.attributes,nokIcon:{type:"string",default:""},nokStyle:{type:"string",default:"darkblue"},nokIconColor:{type:"string",default:""},nokIconPosition:{type:"string",default:"after"},fillMobile:{type:"boolean",default:!1}}}});const u=(0,n.createHigherOrderComponent)(e=>n=>{const{name:c,attributes:u,setAttributes:p}=n;if("core/button"!==c)return(0,r.jsx)(e,{...n});const{nokIcon:k="",nokStyle:b="darkblue",nokIconColor:g="",nokIconPosition:x="after",fillMobile:m=!1}=u,h=window.nokButtonIcons&&window.nokButtonIcons.ui||{};return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(e,{...n}),(0,r.jsx)(t.InspectorControls,{children:(0,r.jsxs)(l.PanelBody,{title:(0,i.__)("NOK Button Instellingen","nok2025"),initialOpen:!0,children:[(0,r.jsx)(a,{value:k,onChange:e=>p({nokIcon:e}),icons:{ui:h}}),k&&(0,r.jsx)(l.SelectControl,{label:(0,i.__)("Icoon positie","nok2025"),value:x,options:[{label:"Voor tekst",value:"before"},{label:"Na tekst",value:"after"}],onChange:e=>p({nokIconPosition:e})}),(0,r.jsx)(l.SelectControl,{label:(0,i.__)("Knop stijl","nok2025"),value:b,options:s,onChange:e=>p({nokStyle:e})}),k&&(0,r.jsx)(l.SelectControl,{label:(0,i.__)("Icoon kleur","nok2025"),value:g,options:d,onChange:e=>p({nokIconColor:e}),help:(0,i.__)("Laat leeg om de tekstkleur van de knop over te nemen","nok2025")}),(0,r.jsx)(l.ToggleControl,{label:(0,i.__)("Volledige breedte op mobiel","nok2025"),checked:m,onChange:e=>p({fillMobile:e}),help:(0,i.__)("Knop vult de volledige breedte op mobiele apparaten","nok2025")})]})})]})},"withButtonControls");(0,e.addFilter)("editor.BlockEdit","nok2025/button-controls",u);const p=(0,n.createHigherOrderComponent)(e=>n=>{const{name:o,attributes:t}=n;if("core/button"!==o)return(0,r.jsx)(e,{...n});const{nokStyle:l="darkblue",fillMobile:i=!1}=t,a=["nok-button","nok-text-contrast",`nok-bg-${l}`];i&&a.push("fill-mobile");const s=a.join(" ");return(0,r.jsx)(e,{...n,className:s?`${n.className||""} ${s}`.trim():n.className})},"applyButtonClassesEditor");(0,e.addFilter)("editor.BlockListBlock","nok2025/button-classes-editor",p);const k=(0,n.createHigherOrderComponent)(e=>n=>{const{name:o,attributes:t}=n;if("core/button"!==o)return(0,r.jsx)(e,{...n});const{nokIcon:l="",nokIconColor:i="",nokIconPosition:a="after"}=t,s=(0,r.jsx)(e,{...n});if(!l)return s;const d=(window.nokButtonIcons&&window.nokButtonIcons.ui||{})[l];if(!d)return s;const u=i?c[i]:"currentColor";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{children:`\n                    [data-block="${n.clientId}"] .wp-block-button__link::${"before"===a?"before":"after"} {\n                        content: '';\n                        display: inline-block;\n                        width: 1em;\n                        height: 1em;\n                        margin: ${"before"===a?"0 0.5em 0 0":"0 0 0 0.5em"};\n                        background: ${u};\n                        mask-image: url('data:image/svg+xml;utf8,${encodeURIComponent(d)}');\n                        mask-size: contain;\n                        mask-repeat: no-repeat;\n                        mask-position: center;\n                        -webkit-mask-image: url('data:image/svg+xml;utf8,${encodeURIComponent(d)}');\n                        -webkit-mask-size: contain;\n                        -webkit-mask-repeat: no-repeat;\n                        -webkit-mask-position: center;\n                    }\n                `}),s]})},"withButtonIconPreview");(0,e.addFilter)("editor.BlockListBlock","nok2025/button-icon-preview",k,20)})();