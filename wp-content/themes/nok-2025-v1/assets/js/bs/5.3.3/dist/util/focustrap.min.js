/*
 Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
 Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
*/
(function(b,c){"object"===typeof exports&&"undefined"!==typeof module?module.exports=c(require("../dom/event-handler.js"),require("../dom/selector-engine.js"),require("./config.js")):"function"===typeof define&&define.amd?define(["../dom/event-handler","../dom/selector-engine","./config"],c):(b="undefined"!==typeof globalThis?globalThis:b||self,b.Focustrap=c(b.EventHandler,b.SelectorEngine,b.Config))})(this,function(b,c,e){const f={autofocus:!0,trapElement:null},g={autofocus:"boolean",trapElement:"element"};
class h extends e{constructor(a){super();this._config=this._getConfig(a);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return f}static get DefaultType(){return g}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),b.off(document,".bs.focustrap"),b.on(document,"focusin.bs.focustrap",a=>this._handleFocusin(a)),b.on(document,"keydown.tab.bs.focustrap",a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&
(this._isActive=!1,b.off(document,".bs.focustrap"))}_handleFocusin(a){const {trapElement:d}=this._config;a.target===document||a.target===d||d.contains(a.target)||(a=c.focusableChildren(d),0===a.length?d.focus():"backward"===this._lastTabNavDirection?a[a.length-1].focus():a[0].focus())}_handleKeydown(a){"Tab"===a.key&&(this._lastTabNavDirection=a.shiftKey?"backward":"forward")}}return h});
