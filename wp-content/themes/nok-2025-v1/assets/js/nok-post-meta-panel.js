(()=>{"use strict";const e=window.wp.plugins,t=window.wp.editor,o=window.wp.components,n=window.wp.data,s=window.wp.element,l=window.ReactJSXRuntime;(0,e.registerPlugin)("nok-post-meta-panel",{render:()=>{const{editPost:e}=(0,n.useDispatch)("core/editor"),{meta:r,postType:i,categories:a,taxonomyTerms:c}=(0,n.useSelect)(e=>{const t=e("core/editor");return{meta:t.getEditedPostAttribute("meta")||{},postType:t.getCurrentPostType(),categories:t.getEditedPostAttribute("categories")||[],taxonomyTerms:t.getEditedPostAttribute("terms")||{}}}),d=window.nokPostMetaFields?.fields||{},m=(0,s.useMemo)(()=>{const e={};return Object.entries(d).forEach(([t,o])=>{let n=!0;if(o.categories&&o.categories.length>0){const e=o.categories.some(e=>a.includes(e));n=n&&e}o.taxonomies&&Object.keys(o.taxonomies).length>0&&Object.entries(o.taxonomies).forEach(([e,t])=>{if(t.length>0){const o=c[e]||[],s=t.some(e=>o.includes(e));n=n&&s}}),n&&(e[t]=o)}),e},[d,a,c]);if(0===Object.keys(m).length)return null;const p=(t,o)=>{e({meta:{...r,[t]:o}})};return(0,l.jsx)(t.PluginDocumentSettingPanel,{name:"nok-post-meta",title:"NOK Extra instellingen",icon:"admin-generic",children:Object.entries(m).map(([e,t])=>((e,t)=>{var n,s;const i=null!==(n=null!==(s=r[e])&&void 0!==s?s:t.default)&&void 0!==n?n:"",a={value:i,onChange:t=>p(e,t)},c={display:"block",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px",color:"#1e1e1e"};switch(t.type){case"textarea":return(0,l.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,l.jsx)("label",{style:c,children:t.label}),(0,l.jsx)(o.TextareaControl,{...a,placeholder:t.placeholder,rows:3})]},e);case"url":return(0,l.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,l.jsx)("label",{style:c,children:t.label}),(0,l.jsx)(o.TextControl,{...a,type:"url",placeholder:t.placeholder||"https://...",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]},e);case"checkbox":return(0,l.jsx)("div",{style:{marginBottom:"16px"},children:(0,l.jsx)(o.CheckboxControl,{label:t.label,checked:"1"===i||1===i||!0===i,onChange:t=>p(e,t?"1":"0")})},e);default:return(0,l.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,l.jsx)("label",{style:c,children:t.label}),(0,l.jsx)(o.TextControl,{...a,placeholder:t.placeholder,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]},e)}})(e,t))})}})})();