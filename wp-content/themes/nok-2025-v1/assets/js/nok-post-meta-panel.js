(()=>{"use strict";const e=window.wp.plugins,t=window.wp.editor,o=window.wp.components,n=window.wp.data,i=window.wp.element,r=window.ReactJSXRuntime,s={margin:"8px 0 8px 0",fontSize:"12px",color:"#757575",fontStyle:"italic",lineHeight:"1.4"},l=({label:e,children:t})=>(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[e&&(0,r.jsx)("div",{style:{marginBottom:"8px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",color:"#1e1e1e"},children:e}),t]});(0,e.registerPlugin)("nok-post-meta-panel",{render:()=>{const{editPost:e}=(0,n.useDispatch)("core/editor"),{meta:a,postType:c,categories:d,taxonomyTerms:p}=(0,n.useSelect)(e=>{const t=e("core/editor");return{meta:t.getEditedPostAttribute("meta")||{},postType:t.getCurrentPostType(),categories:t.getEditedPostAttribute("categories")||[],taxonomyTerms:t.getEditedPostAttribute("terms")||{}}}),x=window.nokPostMetaFields?.fields||{},m=(0,i.useMemo)(()=>{const e={};return Object.entries(x).forEach(([t,o])=>{let n=!0;if(o.categories&&o.categories.length>0){const e=o.categories.some(e=>d.includes(e));n=n&&e}o.taxonomies&&Object.keys(o.taxonomies).length>0&&Object.entries(o.taxonomies).forEach(([e,t])=>{if(t.length>0){const o=p[e]||[],i=t.some(e=>o.includes(e));n=n&&i}}),n&&(e[t]=o)}),e},[x,d,p]);if(0===Object.keys(m).length)return null;const h=(t,o)=>{e({meta:{...a,[t]:o}})};return(0,r.jsx)(t.PluginDocumentSettingPanel,{name:"nok-post-meta",title:"NOK Extra instellingen",icon:"admin-generic",children:Object.entries(m).map(([e,t])=>((e,t)=>{var n,i;const c=null!==(n=null!==(i=a[e])&&void 0!==i?i:t.default)&&void 0!==n?n:"",d={value:c,onChange:t=>h(e,t)};switch(t.type){case"textarea":return(0,r.jsxs)(l,{label:t.label,children:[(0,r.jsx)(o.TextareaControl,{...d,placeholder:t.placeholder,rows:3}),t.description&&(0,r.jsx)("p",{style:s,children:t.description})]},t.meta_key);case"url":return(0,r.jsxs)(l,{label:t.label,children:[(0,r.jsx)(o.TextControl,{...d,type:"url",placeholder:t.placeholder||"https://...",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t.description&&(0,r.jsx)("p",{style:s,children:t.description})]},t.meta_key);case"checkbox":return(0,r.jsx)(l,{children:(0,r.jsx)(o.CheckboxControl,{label:t.label,help:t.description||"",checked:"1"===c||1===c||!0===c,onChange:t=>h(e,t?"1":"0")})},t.meta_key);default:return(0,r.jsxs)(l,{label:t.label,children:[(0,r.jsx)(o.TextControl,{...d,placeholder:t.placeholder,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t.description&&(0,r.jsx)("p",{style:s,children:t.description})]},t.meta_key)}})(e,t))})}})})();