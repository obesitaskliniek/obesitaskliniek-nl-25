@use "sass:map";
@use "nok-variables";
@use "nok-mixins";
@use "nok-reboot";
@use "nok-elements/nok25-sections.scss";
@use "nok-elements/nok25-sections--nav";
@use "nok-elements/nok25-sections--hero";
@use "nok-elements/nok25-buttons.scss";
@use "nok-elements/nok25-square-block.scss";
@use "nok-elements/nok25-sections--block-group";

//Todo: move everything below to something that makes more sense

body {
  @include nok-mixins.nok-text-font;
  --#{nok-variables.$prefix}-body-text-color: var(--#{nok-variables.$prefix}-darkerblue);
}
@for $i from 1 through 6 {
  h#{$i} {
    @include nok-mixins.nok-heading-font;
  }
}



/* custom elements */
#{nok-variables.$prefix}-logo, #{nok-variables.$prefix}-mobile-nav, #{nok-variables.$prefix}-desktop-nav {
  display: contents;
}
/*
//BEM example

.opinions-box {
  margin: 0 0 8px 0;
  text-align: center;

  &__view-more {
    text-decoration: underline;
  }

  &__text-input {
    border: 1px solid #ccc;
  }

  &--is-inactive {
    color: gray;
  }
}*/

/**
 * hyperlink
 */
.#{nok-variables.$prefix}-hyperlink:not(.#{nok-variables.$prefix}-button) {
  color: var(--text-color, var(--text-color--contrast, inherit));
  --underline-color: var(--text-color, var(--text-color--contrast, inherit));
  --underline-color--active: var(--text-color--contrast, inherit);

  @include nok-mixins.nok-inline-link;

  @at-root p & {
    color: var(--nok25-lightblue, inherit);
    --underline-color: var(--nok25-lightblue, inherit);
    --underline-color--active: var(--nok25-lightblue--contrast, inherit);
  }
}
.#{nok-variables.$prefix}-horizontal-button-group {
  display: grid;
  grid-template-rows: 1fr;
  grid-template-columns: 1fr 1fr;
  width: 100%;
  gap: var(--grid-gap, var(--nok25-padding-base, var(--nok25-global-grid-gap, 1.5rem)));
  align-items: center;
  justify-items: center;

  font-size: var(--nok25-font-size-buttons, 1.25rem);

  > button.fill-group-column {
    width: 100%;
  }
}

.#{nok-variables.$prefix}-star-ratings {
  display: inline-flex;
  flex-direction: row;
  gap: .5ex;
  margin-right: 1ex;
}



.#{nok-variables.$prefix}-grid {
  &__wrapper {
    --grid-gap: var(--#{nok-variables.$prefix}-padding-base, 1.5rem);
    display: grid;
    grid-template-columns: repeat(var(--grid-columns, 2), 1fr);
    grid-gap: var(--grid-gap);

    &.two-columns {
      --grid-columns: 2;
    }
    &.three-columns {
      --grid-columns: 3;
    }
    &.four-columns {
      --grid-columns: 4;
    }
    &.five-columns {
      --grid-columns: 5;
    }

    &.one-row-overlap {
      //in row overlap, grid-gap is effectively collapsed. As there is one common empty row 'hidden' beneath both items,
      //we need to multiply the desired overlap by 3 to get the correct overlap.
      //Likewise for the bumpers, as they will also overlap.
      --overlap: calc(var(--grid-gap, auto) * 2);
      --bump-margin: calc(var(--overlap) * 3);
      grid-template-rows: auto calc(var(--overlap) * 3) auto;
      %bumper {
        content: "";
        margin-bottom:  var(--bump-margin, 0);
        width: 100%;
        flex-basis: 100%;
        grid-column: 1 / -1;
        background: #F004;
      }
      > :nth-of-type(1) {
        grid-row: 1 / 3;
        .prevent-bump {
          &::after {
            @extend %bumper;
          }
        }
      }
      > :nth-of-type(2) {
        grid-row: 2 / 4;
        .prevent-bump {
          &::before {
            @extend %bumper;
          }
        }
      }
    }

    .span-all {
      grid-column: 1 / -1;
    }
    .tuck-over {
      z-index: 2;
      grid-row: 1;
    }
    .tuck-under {
      z-index: 1;
      grid-row: 1 / -1;
      grid-column: 1;
    }
    .in-last-column {
      grid-column: calc(var(--grid-columns, 2)) / -1;
    }
    .in-last-two-columns {
      grid-column: calc(var(--grid-columns, 2) - 1) / -1;
    }
  }
}

.nok-icon-bg:before {
  content: "";
  background-image: url(https://dev.obesitaskliniek.nl/wp-content/themes/nok-2025-v1/img/icon/icon-light.svg);
  background-repeat: no-repeat;
  background-position: 40% -10%;
  background-size: 150%;
  display: block;
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: -1;
  opacity: 0.4;
}