(()=>{"use strict";const e=window.wp.blocks,o=window.wp.blockEditor,t=window.wp.components,l=window.wp.i18n,n=window.wp.element,r=window.ReactJSXRuntime,i=({value:e,onChange:o,palette:l})=>{const[i,a]=(0,n.useState)(!1),[s,d]=(0,n.useState)(""),c=(0,n.useRef)(null),p=(window.PagePartDesignSettings?.colorPalettes||{})[l]||[],x=p.filter(e=>e.label.toLowerCase().includes(s.toLowerCase())),g=p.find(o=>o.value===e),u=(e,o="24px")=>{const t=!e||"transparent"===e||"inherit"===e;return(0,r.jsx)("div",{style:{width:o,height:o,borderRadius:"4px",border:"1px solid #ccc",flexShrink:0,background:t?"repeating-linear-gradient(45deg, #fff, #fff 4px, #eee 4px, #eee 8px)":e,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}})};return(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("div",{ref:c,onClick:()=>a(!i),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",background:"#fff",minHeight:"40px"},children:g?(0,r.jsxs)(r.Fragment,{children:[u(g.color),(0,r.jsx)("span",{style:{fontSize:"13px"},children:g.label})]}):e?(0,r.jsxs)(r.Fragment,{children:[u(null),(0,r.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:e})]}):(0,r.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:"Selecteer kleur..."})}),g&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),o("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#d63638",color:"#fff",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",fontWeight:"500"},title:"Wis selectie",children:"×"})]}),i&&(0,r.jsx)(t.Popover,{anchor:c.current,onClose:()=>{a(!1),d("")},placement:"bottom-start",shift:!0,resize:!0,children:(0,r.jsxs)("div",{style:{background:"#fff",maxHeight:"400px",width:"280px",overflow:"hidden"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Zoek kleur...",value:s,onChange:e=>d(e.target.value),style:{width:"100%",padding:"8px",border:"none",borderBottom:"1px solid #ddd",fontSize:"13px",outline:"none",boxSizing:"border-box"},autoFocus:!0}),(0,r.jsx)("div",{style:{overflowY:"auto",maxHeight:"350px",padding:"8px"},children:0===x.length?(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#757575",fontSize:"13px"},children:"Geen kleuren gevonden"}):(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:x.map(t=>(0,r.jsxs)("div",{onClick:()=>{o(t.value),a(!1),d("")},title:t.label,style:{padding:"4px",border:e===t.value?"2px solid #007cba":"1px solid #ddd",borderRadius:"4px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",background:e===t.value?"#e0f0ff":"#fff",transition:"all 0.15s",minHeight:"50px"},onMouseEnter:o=>{e!==t.value&&(o.currentTarget.style.background="#f5f5f5")},onMouseLeave:o=>{e!==t.value&&(o.currentTarget.style.background="#fff")},children:[u(t.color,"32px"),(0,r.jsx)("span",{style:{fontSize:"10px",textAlign:"center",lineHeight:"1.2",color:"#333",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.label})]},t.value||"empty"))})})]})})]})},a="nok-2025-v1",s=["core/paragraph","core/heading","core/list","core/image","core/gallery","core/quote","core/table","core/columns","core/group","core/spacer","core/separator","core/buttons","core/button","core/html","core/shortcode"],d=[{label:(0,l.__)("1 kolom (standaard)",a),value:"1-column"},{label:(0,l.__)("2 kolommen",a),value:"2-column"},{label:(0,l.__)("3 kolommen",a),value:"3-column"}];(0,e.registerBlockType)("nok2025/general-nok-section",{edit:({attributes:e,setAttributes:n})=>{const{backgroundColor:c,textColor:p,layoutWidth:x,narrowSection:g,enablePullUp:u,enableNoAos:h}=e,b=(0,o.useBlockProps)({className:"nok-general-section-editor",style:{width:"100%",maxWidth:"100%",padding:"15px 3vw",boxSizing:"border-box"}}),f=window.PagePartDesignSettings?.colorPalettes||{},m=f.backgrounds||[],k=f.text||[],v=m.find(e=>e.value===c),_=k.find(e=>e.value===p);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.InspectorControls,{children:[(0,r.jsxs)(t.PanelBody,{title:(0,l.__)("Sectie instellingen",a),initialOpen:!0,children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:(0,l.__)("Achtergrondkleur",a)}),(0,r.jsx)(i,{value:c,onChange:e=>n({backgroundColor:e}),palette:"backgrounds"}),(0,r.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:(0,l.__)("Tekstkleur",a)}),(0,r.jsx)(i,{value:p,onChange:e=>n({textColor:e}),palette:"text"}),(0,r.jsx)(t.SelectControl,{label:(0,l.__)("Layout breedte",a),value:x,options:d,onChange:e=>n({layoutWidth:e}),help:(0,l.__)("Bepaalt het aantal kolommen in de layout grid",a)}),(0,r.jsx)(t.ToggleControl,{label:(0,l.__)("Smalle sectie",a),help:(0,l.__)("Maakt de sectie smaller (max-width beperkt)",a),checked:g,onChange:e=>n({narrowSection:e})})]}),(0,r.jsxs)(t.PanelBody,{title:(0,l.__)("Geavanceerde opties",a),initialOpen:!1,children:[(0,r.jsx)(t.ToggleControl,{label:(0,l.__)("Pull-up effect",a),help:(0,l.__)("Trekt de sectie omhoog over de vorige sectie",a),checked:u,onChange:e=>n({enablePullUp:e})}),(0,r.jsx)(t.ToggleControl,{label:(0,l.__)("Disable animaties (no-aos)",a),help:(0,l.__)("Schakelt scroll-animaties uit voor deze sectie",a),checked:h,onChange:e=>n({enableNoAos:e})})]})]}),(0,r.jsxs)("div",{...b,children:[(0,r.jsxs)("div",{className:"nok-general-section-editor__label",style:{padding:"20px",background:"#f0f0f1",border:"1px solid #c3c4c7",borderRadius:"4px",textAlign:"center"},children:[(0,r.jsx)("strong",{children:(0,l.__)("NOK Generieke sectie",a)}),(0,r.jsxs)("div",{style:{fontSize:"12px",marginTop:"8px",color:"#666"},children:[(0,l.__)("Achtergrond:",a)," ",v?.label||c||"Transparant"," | ",(0,l.__)("Tekst:",a)," ",_?.label||p," | ",(0,l.__)("Layout:",a)," ",d.find(e=>e.value===x)?.label||x,g&&(0,r.jsxs)(r.Fragment,{children:[" | ",(0,r.jsx)("strong",{children:(0,l.__)("Smal",a)})]})]})]}),(0,r.jsx)(o.InnerBlocks,{allowedBlocks:s,templateLock:!1})]})]})},save:()=>(0,r.jsx)(o.InnerBlocks.Content,{})})})();