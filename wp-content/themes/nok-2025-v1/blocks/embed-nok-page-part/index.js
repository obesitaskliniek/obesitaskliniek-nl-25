(()=>{var e={15:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},29:(e,t,r)=>{var n=r(187),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},66:(e,t,r)=>{var n=r(158),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},158:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},183:(e,t,r)=>{var n=r(194),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},184:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},187:(e,t,r)=>{var n=r(183).Symbol;e.exports=n},194:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},536:(e,t,r)=>{var n=r(990),o=r(184);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},572:(e,t,r)=>{var n=r(66),o=r(15),i=r(536),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}},642:(e,t,r)=>{var n=r(183);e.exports=function(){return n.Date.now()}},704:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},803:(e,t,r)=>{var n=r(15),o=r(642),i=r(572),a=Math.max,s=Math.min;e.exports=function(e,t,r){var c,u,l,p,d,f,v=0,b=!1,w=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=c,n=u;return c=u=void 0,v=t,p=e.apply(n,r)}function h(e){var r=e-f;return void 0===f||r>=t||r<0||w&&e-v>=l}function x(){var e=o();if(h(e))return y(e);d=setTimeout(x,function(e){var r=t-(e-f);return w?s(r,l-(e-v)):r}(e))}function y(e){return d=void 0,m&&c?g(e):(c=u=void 0,p)}function j(){var e=o(),r=h(e);if(c=arguments,u=this,f=e,r){if(void 0===d)return function(e){return v=e,d=setTimeout(x,t),b?g(e):p}(f);if(w)return clearTimeout(d),d=setTimeout(x,t),g(f)}return void 0===d&&(d=setTimeout(x,t)),p}return t=i(t)||0,n(r)&&(b=!!r.leading,l=(w="maxWait"in r)?a(i(r.maxWait)||0,t):l,m="trailing"in r?!!r.trailing:m),j.cancel=function(){void 0!==d&&clearTimeout(d),v=0,c=f=u=d=void 0},j.flush=function(){return void 0===d?p:y(o())},j}},990:(e,t,r)=>{var n=r(187),o=r(29),i=r(704),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,n=window.wp.components,o=window.wp.data,i=window.wp.i18n,a=window.wp.element;window.wp.apiFetch;var s=r(803),c=r.n(s);function u(){const e=(0,a.useRef)(null),t=`/​?preview=true&preview_id=${(0,o.select)("core/editor").getCurrentPostId()}`,r=()=>{e.current&&(e.current.src=t)},n=c()(r,1500);return(0,a.useEffect)(()=>(r(),(0,o.subscribe)(()=>{n()})),[]),(0,a.createElement)("iframe",{ref:e,style:{width:"100%",height:"400px",border:"none"}})}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("page-part-preview-root");e&&(0,a.render)((0,a.createElement)(u),e)});const l=window.ReactJSXRuntime,p="nok-2025-v1";(0,e.registerBlockType)("nok2025/embed-nok-page-part",{edit:({attributes:e,setAttributes:r})=>{const{postId:s}=e,c=(0,o.useSelect)(e=>e("core").getEntityRecords("postType","page_part",{per_page:-1}),[])||[],u=s?`/wp-json/nok-2025-v1/v1/embed-page-part/${s}`:"",d=(0,a.useRef)(null),[f,v]=(0,a.useState)(400);return(0,a.useEffect)(()=>{const e=d.current;if(!e)return;let t;const r=()=>{try{const t=e.contentDocument||e.contentWindow.document,r=Math.max(t.documentElement.scrollHeight,t.body.scrollHeight);v(r)}catch(e){}},n=()=>{r(),t=new MutationObserver(r),t.observe(e.contentDocument.body,{childList:!0,subtree:!0,attributes:!0})};return e.addEventListener("load",n),()=>{e.removeEventListener("load",n),t&&t.disconnect()}},[s]),(0,t.useBlockProps)({style:{position:"relative",width:"100%",margin:0,maxWidth:"100%"}}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.BlockControls,{}),(0,l.jsxs)("div",{...(0,t.useBlockProps)(),style:{position:"relative",width:"100%",margin:"0",maxWidth:"100%"},children:[(0,l.jsx)(n.PanelBody,{title:(0,i.__)("NOK Page Part Blok",p),initialOpen:!0,children:(0,l.jsx)(n.SelectControl,{label:(0,i.__)("Selecteer een Page Part uit de lijst",p),value:s,options:[{label:(0,i.__)(" - Selecteer Page Part blok… - ",p),value:0},...c.map(e=>({label:e.title.rendered,value:e.id}))],onChange:e=>r({postId:parseInt(e,10)})})}),s?(0,l.jsx)("div",{style:{position:"relative",width:"100%"},children:(0,l.jsx)("iframe",{ref:d,title:(0,i.__)("Embedded NOK Page Part",p),src:u,style:{width:"100%",height:`${f}px`,border:0},sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"})}):(0,l.jsx)("p",{children:(0,i.__)("Selecteer een blok om te bekijken…",p)})]})]})},save:()=>null})})()})();