(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.wp.blockEditor,r=window.wp.components,i=window.ReactJSXRuntime,o=window.wp.primitives;var l=(0,i.jsx)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(o.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})});const s=window.wp.data,a=window.wp.apiFetch;var d=e.n(a);const c=window.wp.i18n,p=window.wp.element,h=({value:e,onChange:t,icons:n})=>{const[o,l]=(0,p.useState)(!1),[s,a]=(0,p.useState)(""),d=(0,p.useRef)(null),c=Object.entries(n).flatMap(e=>Object.entries(e[1]).map(t=>({name:t[0],svg:t[1],category:e[0]}))),h=c.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())),g=c.find(t=>t.name===e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n        svg.nok-icon {\n            width: 100%;\n            height: 100%;\n            display: block;\n        }\n    "}),(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"8px"},children:"Icon"}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("div",{ref:d,onClick:()=>l(!o),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",background:"#fff",minHeight:"40px"},children:g?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:"24px",height:"24px",flexShrink:0},dangerouslySetInnerHTML:{__html:g.svg}}),(0,i.jsx)("span",{style:{fontSize:"13px"},children:g.name})]}):(0,i.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:"Select an icon..."})}),g&&(0,i.jsx)("button",{onClick:e=>{e.stopPropagation(),t("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#d63638",color:"#fff",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",fontWeight:"500"},title:"Clear icon",children:"Ã—"})]}),o&&(0,i.jsx)(r.Popover,{anchor:d.current,onClose:()=>{l(!1),a("")},placement:"bottom-start",shift:!0,resize:!0,children:(0,i.jsxs)("div",{style:{background:"#fff",maxHeight:"400px",width:"280px",overflow:"hidden"},children:[(0,i.jsx)("input",{type:"text",placeholder:"Search icons...",value:s,onChange:e=>a(e.target.value),style:{width:"100%",padding:"8px",border:"none",borderBottom:"1px solid #ddd",fontSize:"13px",outline:"none",boxSizing:"border-box"},autoFocus:!0}),(0,i.jsx)("div",{style:{overflowY:"auto",maxHeight:"350px",padding:"8px"},children:0===h.length?(0,i.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#757575",fontSize:"13px"},children:"No icons found"}):(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:h.map(n=>(0,i.jsx)("div",{onClick:()=>{t(n.name),l(!1),a("")},title:n.name,style:{padding:"2px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:e===n.name?"#e0f0ff":"#fff",transition:"all 0.15s",aspectRatio:"1"},onMouseEnter:t=>{e!==n.name&&(t.currentTarget.style.background="#f5f5f5")},onMouseLeave:t=>{e!==n.name&&(t.currentTarget.style.background="#fff")},children:(0,i.jsx)("div",{style:{width:"3em",height:"3em"},dangerouslySetInnerHTML:{__html:n.svg}})},n.name))})})]})})]})]})},g=({taxonomy:e,value:t,onChange:n,multiple:o=!0,label:l})=>{const[s,a]=(0,p.useState)([]),[c,h]=(0,p.useState)(!0),g=t?t.split(",").map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e)):[];return(0,p.useEffect)(()=>{h(!0),d()({path:`/wp/v2/${e}?per_page=100&orderby=name&order=asc`}).then(e=>{a(e),h(!1)}).catch(e=>{console.error("Failed to fetch taxonomy terms:",e),h(!1)})},[e]),c?(0,i.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"CategorieÃ«n laden..."}):0===s.length?(0,i.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"Geen categorieÃ«n gevonden."}):(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[l&&(0,i.jsx)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"8px",color:"#1e1e1e"},children:l}),(0,i.jsx)("p",{style:{fontSize:"11px",color:"#666",marginBottom:"8px"},children:0===g.length?"Alle categorieÃ«n (geen filter)":`${g.length} categorie${1!==g.length?"Ã«n":""} geselecteerd`}),(0,i.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",backgroundColor:"#fff"},children:s.map(e=>(0,i.jsx)(r.CheckboxControl,{label:e.name,checked:g.includes(e.id),onChange:t=>((e,t)=>{let r;r=o?t?[...g,e]:g.filter(t=>t!==e):t?[e]:[],n(r.length>0?r.join(","):"")})(e.id,t),__nextHasNoMarginBottom:!0},e.id))}),g.length>0&&(0,i.jsx)(r.Button,{variant:"link",isDestructive:!0,onClick:()=>n(""),style:{marginTop:"8px",fontSize:"12px"},children:"Selectie wissen (alle tonen)"})]})},x=({value:e,onChange:t,palette:n})=>{const[o,l]=(0,p.useState)(!1),[s,a]=(0,p.useState)(""),d=(0,p.useRef)(null),c=(window.PagePartDesignSettings?.colorPalettes||{})[n]||[],h=c.filter(e=>e.label.toLowerCase().includes(s.toLowerCase())),g=c.find(t=>t.value===e),x=(e,t="24px")=>{const n=!e||"transparent"===e||"inherit"===e;return(0,i.jsx)("div",{style:{width:t,height:t,borderRadius:"4px",border:"1px solid #ccc",flexShrink:0,background:n?"repeating-linear-gradient(45deg, #fff, #fff 4px, #eee 4px, #eee 8px)":e,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}})};return(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("div",{ref:d,onClick:()=>l(!o),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",background:"#fff",minHeight:"40px"},children:g?(0,i.jsxs)(i.Fragment,{children:[x(g.color),(0,i.jsx)("span",{style:{fontSize:"13px"},children:g.label})]}):e?(0,i.jsxs)(i.Fragment,{children:[x(null),(0,i.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:e})]}):(0,i.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:"Selecteer kleur..."})}),g&&(0,i.jsx)("button",{onClick:e=>{e.stopPropagation(),t("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#d63638",color:"#fff",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",fontWeight:"500"},title:"Wis selectie",children:"Ã—"})]}),o&&(0,i.jsx)(r.Popover,{anchor:d.current,onClose:()=>{l(!1),a("")},placement:"bottom-start",shift:!0,resize:!0,children:(0,i.jsxs)("div",{style:{background:"#fff",maxHeight:"400px",width:"280px",overflow:"hidden"},children:[(0,i.jsx)("input",{type:"text",placeholder:"Zoek kleur...",value:s,onChange:e=>a(e.target.value),style:{width:"100%",padding:"8px",border:"none",borderBottom:"1px solid #ddd",fontSize:"13px",outline:"none",boxSizing:"border-box"},autoFocus:!0}),(0,i.jsx)("div",{style:{overflowY:"auto",maxHeight:"350px",padding:"8px"},children:0===h.length?(0,i.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#757575",fontSize:"13px"},children:"Geen kleuren gevonden"}):(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:h.map(n=>(0,i.jsxs)("div",{onClick:()=>{t(n.value),l(!1),a("")},title:n.label,style:{padding:"4px",border:e===n.value?"2px solid #007cba":"1px solid #ddd",borderRadius:"4px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",background:e===n.value?"#e0f0ff":"#fff",transition:"all 0.15s",minHeight:"50px"},onMouseEnter:t=>{e!==n.value&&(t.currentTarget.style.background="#f5f5f5")},onMouseLeave:t=>{e!==n.value&&(t.currentTarget.style.background="#fff")},children:[x(n.color,"32px"),(0,i.jsx)("span",{style:{fontSize:"10px",textAlign:"center",lineHeight:"1.2",color:"#333",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.label})]},n.value||"empty"))})})]})})]})},u=({value:e,onChange:t})=>{const o=e?parseInt(e,10):null,l=(0,s.useSelect)(e=>o?e("core").getMedia(o):null,[o]),a=l?l.media_details?.sizes?.medium?.source_url||l.media_details?.sizes?.thumbnail?.source_url||l.source_url:null,d=()=>{t("")};return(0,i.jsx)("div",{style:{marginBottom:"12px"},children:(0,i.jsx)(n.MediaUploadCheck,{children:(0,i.jsx)(n.MediaUpload,{onSelect:e=>{t(String(e.id))},allowedTypes:["image"],value:o,render:({open:e})=>(0,i.jsxs)("div",{children:[a&&(0,i.jsx)("div",{style:{marginBottom:"12px",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",maxWidth:"200px"},children:(0,i.jsx)("img",{src:a,style:{width:"100%",height:"auto",display:"block"},alt:""})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,i.jsx)(r.Button,{variant:"secondary",onClick:e,children:a?"Wijzig afbeelding":"Selecteer afbeelding"}),a&&(0,i.jsx)(r.Button,{variant:"tertiary",isDestructive:!0,onClick:d,children:"Verwijder"})]})]})})})})},m={degsteps:60,startsat:100,startbri:100,startdeg:0,gradsteps:10,paletlim:[0,360]},b=new class{constructor(e,t,n,r,i,o){this.startdeg=null!=r?r:m.startdeg,this.degsteps=null!=e?e:m.degsteps,this.startsat=null!=t?t:m.startsat,this.startbri=null!=n?n:m.startbri,this.gradsteps=i&&i>1?i:m.gradsteps,this.paletlim=null!=o?o:m.paletlim,this.calls=0,this.color=null,this.deg=0,this.cyc=0,this.bri=100,this.sat=100,this.opa=1}new(e,t){return this.color=this._generateColor(e,t),this.string=this.color.string,this.values=this.color.values,this.contra=this.color.contra,this.hex=this._rgbToHex(this.color.values),this.calls++,this}adjust(e){var t,n,r,i;const o=null!==(t=e.deg)&&void 0!==t?t:0,l=null!==(n=e.sat)&&void 0!==n?n:this.sat,s=null!==(r=e.bri)&&void 0!==r?r:this.bri,a=null!==(i=e.opa)&&void 0!==i?i:this.opa,d=(this.deg+o)%this.paletlim[1],c=this._clamp(s<=1&&s>0?this.bri*s:s,0,100),p=this._clamp(l<=1&&l>0?this.sat*l:l,0,100),h=this._clamp(a,0,1);return this._hsvToRgb(d,p,c,h)}_generateColor(e,t){let n=!1;if("string"==typeof e)if("#"===e[0]){const t=this._hslToHsv(this._hexToHsl(e));this.deg=t[0],this.sat=t[1],this.bri=t[2],n=!0}else this.deg=this._stringToDegrees(e);else this.startdeg=Math.max(this.startdeg,this.paletlim[0]),this.deg=this.startdeg+this.calls*this.degsteps;if(this.cyc=Math.floor(this.deg/this.paletlim[1]),!n&&(this.bri=e&&e>0?e:this.startbri,this.sat=t&&t>0?t:this.startsat,this.bri=Math.abs(this.bri%101),this.sat=Math.abs(this.sat%101),this.deg=this.deg%(this.paletlim[1]+1),this.deg=Math.max(this.deg,this.paletlim[0]),this.paletlim[0]%this.degsteps===0&&this.cyc>0)){const t=this.cyc*this.gradsteps;this.bri=e&&e>0?e:this.startbri-t,t>=100&&(this.cyc=0,this.gradsteps=this.gradsteps/2)}return this._hsvToRgb(this.deg,this.sat,this.bri)}_stringToDegrees(e){const t=[...e].reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0);return Math.abs(t)%360}_hsvToRgb(e,t,n,r){e/=360,t/=100,n/=100,r=void 0!==r?parseFloat(r):void 0;const i=Math.floor(6*e),o=6*e-i,l=n*(1-t),s=n*(1-o*t),a=n*(1-(1-o)*t);let d,c,p;switch(i%6){case 0:d=n,c=a,p=l;break;case 1:d=s,c=n,p=l;break;case 2:d=l,c=n,p=a;break;case 3:d=l,c=s,p=n;break;case 4:d=a,c=l,p=n;break;case 5:d=n,c=l,p=s}const h=[Math.round(255*d),Math.round(255*c),Math.round(255*p)],g=void 0!==r?"rgba":"rgb";return void 0!==r&&h.push(r),{values:h,string:`${g}(${h.join(",")})`,hex:this._rgbToHex(h),contra:this._textContrast(h)}}_hexToHsl(e){const t=this._hexToRgb(e),n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.min(n,r,i),l=Math.max(n,r,i),s=l-o;let a=0;0!==s&&(a=l===n?(r-i)/s%6:l===r?(i-n)/s+2:(n-r)/s+4),a=Math.round(60*a),a<0&&(a+=360);const d=(l+o)/2;return[a,+(100*(0===s?0:s/(1-Math.abs(2*d-1)))).toFixed(1),+(100*d).toFixed(1)]}_hslToHsv(e){const t=e[1]*(e[2]<50?e[2]:100-e[2])/100,n=0===t?0:2*t/(e[2]+t)*100,r=e[2]+t;return[e[0],n,r]}_hexToRgb(e){return e.match(/\w\w/g).map(e=>+`0x${e}`)}_rgbToHex(e){return"#"+e.slice(0,3).map(e=>e.toString(16).padStart(2,"0")).join("")}_textContrast(e){return Math.round((299*parseInt(e[0])+587*parseInt(e[1])+114*parseInt(e[2]))/1e3)>125?"rgb(0,0,0)":"rgb(255,255,255)"}_clamp(e,t,n){return Math.min(Math.max(e,t),n)}},f="nok-2025-v1",v=({value:e,options:t,onChange:n,onOpen:o})=>{const[l,s]=(0,p.useState)(!1),[a,d]=(0,p.useState)(null),[c,h]=(0,p.useState)(""),g=(0,p.useRef)(),x=(0,p.useRef)(),u=t.find(t=>t.value===e);(0,p.useEffect)(()=>{l&&x.current&&setTimeout(()=>x.current?.focus(),50)},[l]);const m=(e,t)=>{if(!t)return{matches:!0,score:0,indices:[]};const n=e.toLowerCase(),r=t.toLowerCase();let i=0,o=0;const l=[];let s=0;for(;i<r.length&&o<n.length;)r[i]===n[o]&&(l.push(o),s+=100-o,i++),o++;return{matches:i===r.length,score:s,indices:l}},f=c?t.map(e=>{const t=m(e.label.replace(/<[^>]*>/g,""),c),n=m(e.template||"",c),r=t.score>n.score?t:n;return{...e,matchData:r,searchScore:r.score}}).filter(e=>e.matchData.matches).sort((e,t)=>t.searchScore-e.searchScore):t.filter(e=>0!==e.value);return(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsxs)(r.Button,{ref:g,variant:"secondary",onClick:()=>{const e=!l;s(e),h(""),e&&o&&o()},style:{width:"100%",textAlign:"left",padding:"8px 12px",borderBottom:"1px solid #f0f0f1",borderRadius:"0",justifyContent:"end",color:"inherit"},children:[(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:u?.label||"Select Page Part..."},style:{flexBasis:"100%"}}),u?(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:`${u.template}`},style:{padding:"2px 6px",backgroundColor:b.new(u.template).string,borderRadius:"6px",fontSize:"1em",color:b.new(u.template).contra,marginLeft:"auto"}}):null]}),l&&(0,i.jsx)(r.Popover,{anchor:g.current,placement:"bottom-start",onClose:()=>s(!1),resize:!1,shift:!0,style:{width:g.current?.offsetWidth||"auto"},children:(0,i.jsxs)("div",{style:{width:g.current?.offsetWidth||300,maxHeight:"300px",display:"flex",flexDirection:"column"},children:[(0,i.jsx)("div",{style:{padding:"8px",borderBottom:"1px solid #ddd",backgroundColor:"white"},children:(0,i.jsx)("input",{ref:x,type:"text",placeholder:"Zoek page part...",value:c,onChange:e=>h(e.target.value),onKeyDown:e=>{"Escape"===e.key?s(!1):"Enter"===e.key&&f.length>0&&(n(f[0].value),s(!1))},style:{width:"100%",padding:"6px 8px",border:"1px solid #ccc",borderRadius:"3px",fontSize:"13px",outline:"none"}})}),(0,i.jsx)("div",{style:{overflowY:"auto",flex:1},children:0===f.length?(0,i.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#666",fontSize:"13px"},children:"Geen resultaten gevonden"}):f.map(t=>{const o=b.new(t.template),l=m(t.label.replace(/<[^>]*>/g,""),c),p=c?((e,t)=>{if(!t||0===t.length)return e;const n=e.replace(/<[^>]*>/g,"");let r="",i=0;return t.forEach(e=>{r+=n.slice(i,e),r+=`<mark style="background: #ffd700; padding: 0; font-weight: bold;">${n[e]}</mark>`,i=e+1}),r+=n.slice(i),r})(t.label,l.indices):t.label;return(0,i.jsxs)(r.Button,{onClick:()=>{n(t.value),s(!1)},onMouseEnter:()=>d(t.value),onMouseLeave:()=>d(null),style:{width:"100%",textAlign:"left",padding:"8px 12px",border:"none",borderBottom:"1px solid #f0f0f1",borderRadius:"0",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",justifyContent:"space-between",backgroundColor:t.value===e?"var(--wp-admin-theme-color)":a===t.value?"#e6f3ff":"transparent",color:t.value===e?"white":"inherit"},children:[(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:p}}),t.value?(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:`${t.template}`},style:{padding:"2px 6px",backgroundColor:o.adjust({sat:.7}).string,borderRadius:"6px",fontSize:"1em",color:o.contra}}):null]},t.value)})})]})})]})};(0,t.registerBlockType)("nok2025/embed-nok-page-part",{attributes:{postId:{type:"number",default:0},overrides:{type:"object",default:{}},excludeFromSeo:{type:"boolean",default:!1}},edit:({attributes:e,setAttributes:t})=>{const{postId:o,overrides:a,excludeFromSeo:m}=e,[b,y]=(0,p.useState)([]),j=(0,s.useSelect)(e=>e("core/editor").getCurrentPostType(),[]),_=()=>{d()({path:"/wp/v2/page-parts?per_page=999&orderby=modified&order=desc&_fields=id,title,meta,slug"}).then(y).catch(e=>console.error("Failed to load page parts:",e))};(0,p.useEffect)(()=>{_()},[]);const w="undefined"!=typeof window&&window.PagePartDesignSettings&&window.PagePartDesignSettings.registry||{},k=b.find(e=>e.id===o),S=k?.title?.rendered||"",C=w[k?.meta?.design_slug||""]||{},z=(C.custom_fields||[]).filter(e=>e.page_editable),P=(0,s.useSelect)(e=>{const t=a._override_thumbnail_id;return t?e("core").getMedia(t):null},[a._override_thumbnail_id]),B=[{label:(0,c.__)(" - Selecteer Page Part blokâ€¦ - ",f),value:0},...b.map(e=>{const t=e.meta&&e.meta.design_slug||"",n=w[t]&&w[t].name?w[t].name:t||"Unknown";return{label:`${e.title.rendered}`,template:n,value:e.id}})],M=o?`/wp-json/nok-2025-v1/v1/embed-page-part/${o}?${new URLSearchParams(Object.entries(a).map(([e,t])=>[e,t])).toString()}`:"",T=(0,p.useRef)(null),[D,I]=(0,p.useState)(180);return(0,p.useEffect)(()=>{const e=T.current;if(!e)return;let t;const n=()=>{try{const t=e.contentDocument||e.contentWindow.document,n=Math.max(t.documentElement.scrollHeight,t.body.scrollHeight);I(n)}catch(e){}},r=()=>{n();try{const t=(e.contentDocument||e.contentWindow.document).querySelector('meta[name="yoast-content"]');if(t&&o){const e=t.getAttribute("content");window.nokPagePartData=window.nokPagePartData||{},window.nokPagePartData[o]=e,window.nokYoastIntegration?.debug&&console.log(`[Yoast] Stored content for part ${o}:`,e.length,"chars")}}catch(e){}t&&(t.disconnect(),t=null),e.contentDocument&&e.contentDocument.body&&(t=new MutationObserver(n),t.observe(e.contentDocument.body,{childList:!0,subtree:!0,attributes:!0}))};return e.addEventListener("load",r),()=>{e.removeEventListener("load",r),t&&t.disconnect()}},[o]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.BlockControls,{}),(0,i.jsxs)("div",{...(0,n.useBlockProps)(),style:{position:"relative",width:"100%",marginBottom:"15px",maxWidth:"100%",padding:"15px 3vw",boxSizing:"border-box"},children:[m&&(0,i.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#f0f0f1",padding:"4px 8px",borderRadius:"3px",fontSize:"11px",color:"#666",zIndex:10,border:"1px solid #ddd"},children:"ðŸš« SEO uitgesloten"}),j&&"page"!==j&&"page_part"!==j&&(0,i.jsx)(r.Notice,{status:"warning",isDismissible:!1,children:(0,c.__)("Let op: Page Parts zijn ontworpen voor gebruik op pagina's. Deze invoegen op andere berichttypen geeft mogelijk problemen met de layout.",f)}),(0,i.jsxs)(r.PanelBody,{title:(0,c.__)("NOK Page Part Blok",f)+(S?` - ${S}`:""),initialOpen:!0,children:[(0,i.jsx)(v,{label:(0,c.__)("Selecteer een Page Part uit de lijst",f),value:o,options:B,onChange:e=>t({postId:parseInt(e,10)}),onOpen:()=>{_()}}),0!==o&&(0,i.jsx)(r.PanelBody,{title:(0,c.__)("SEO Instellingen",f),initialOpen:!1,children:(0,i.jsx)(r.CheckboxControl,{label:(0,c.__)("Meenemen in SEO analyse",f),help:(0,c.__)("Schakel uit om deze page part uit te sluiten van Yoast SEO analyse",f),checked:!m,onChange:e=>{t({excludeFromSeo:!e}),window.nokYoastIntegration?.debug&&console.log(`[Yoast] Part ${o} SEO exclusion changed to:`,!e)}})}),0!==o&&(()=>{const e=Object.values(a).filter(e=>""!==e&&null!=e).length;return(0,i.jsxs)(r.PanelBody,{title:(0,i.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:[(0,c.__)("Pagina-afhankelijke overrides",f),e>0&&(0,i.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"3px",color:"#00a32a",fontSize:"12px",fontWeight:"600"},children:[(0,i.jsx)("span",{style:{fontSize:"14px",lineHeight:1},children:"âœ“"}),e]})]}),initialOpen:!1,children:[(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"12px"},children:["Overschrijf titel of inhoud specifiek voor deze pagina.",z.length>0&&" Deze page part biedt ook extra velden die overschreven kunnen worden."]}),(0,i.jsx)(r.TextControl,{label:(0,c.__)("Section ID",f),help:(0,c.__)("Overschrijf het anker-ID van deze sectie op deze pagina.",f),value:a._override_section_id||"",onChange:e=>{const n={...a};""===e?delete n._override_section_id:n._override_section_id=e,t({overrides:n})},placeholder:`â€” ${(0,c.__)("Gebruik standaard ID",f)} â€”`}),(0,i.jsx)(r.TextControl,{label:(0,c.__)("Alternatieve titel",f),value:a._override_title||"",onChange:e=>{const n={...a};""===e?delete n._override_title:n._override_title=e,t({overrides:n})},placeholder:"â€” Gebruik originele titel â€”"}),(0,i.jsx)(r.TextareaControl,{label:(0,c.__)("Alternatieve inhoud",f),value:a._override_content||"",onChange:e=>{const n={...a};""===e?delete n._override_content:n._override_content=e,t({overrides:n})},placeholder:"â€” Gebruik originele inhoud â€”",rows:4}),z.map(e=>{const n=a[e.meta_key]||"",o=n=>{const r={...a};""===n||null===n?delete r[e.meta_key]:r[e.meta_key]=n,t({overrides:r})};switch(e.type){case"icon-selector":const t=window.PagePartDesignSettings?.icons||{};return(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#666"},children:["Override ",e.label]}),n&&(0,i.jsx)("button",{onClick:()=>o(""),style:{fontSize:"11px",color:"#d63638",background:"none",border:"none",padding:"0",marginBottom:"8px",cursor:"pointer",textDecoration:"underline"},children:"Clear override (gebruik de ingestelde waarde)"}),(0,i.jsx)(h,{value:n,icons:t,onChange:o})]},e.meta_key);case"color-selector":return(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#666"},children:["Override ",e.label]}),n&&(0,i.jsx)("button",{onClick:()=>o(""),style:{fontSize:"11px",color:"#d63638",background:"none",border:"none",padding:"0",marginBottom:"8px",cursor:"pointer",textDecoration:"underline"},children:"Clear override (gebruik de ingestelde waarde)"}),(0,i.jsx)(x,{value:n,palette:e.palette,onChange:o})]},e.meta_key);case"select":const l=e.options||[],s=e.option_labels||l;return(0,i.jsx)(r.SelectControl,{label:`Override ${e.label}`,value:n,options:[{label:"â€” Gebruik de ingestelde waarde â€”",value:""},...l.map((e,t)=>({label:s[t]||e,value:e}))],onChange:o},e.meta_key);case"checkbox":return(0,i.jsx)(r.SelectControl,{label:`Override ${e.label}`,value:n,options:[{label:"â€” Gebruik de ingestelde waarde â€”",value:""},{label:"Ja",value:"1"},{label:"Nee",value:"0"}],onChange:o},e.meta_key);case"taxonomy":return(0,i.jsx)(g,{taxonomy:e.taxonomy,value:n,onChange:o,multiple:!1!==e.multiple,label:`Override ${e.label}`},e.meta_key);case"text":case"url":return(0,i.jsx)(r.TextControl,{label:`Override ${e.label}`,value:n,onChange:o,placeholder:"â€” Gebruik de ingestelde waarde â€”"},e.meta_key);case"image":return(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#666"},children:["Override ",e.label]}),n&&(0,i.jsx)("button",{onClick:()=>o(""),style:{fontSize:"11px",color:"#d63638",background:"none",border:"none",padding:"0",marginBottom:"8px",cursor:"pointer",textDecoration:"underline"},children:"Clear override (gebruik de ingestelde waarde)"}),(0,i.jsx)(u,{value:n,onChange:o})]},e.meta_key);default:return null}})]})})(),0!==o&&C.featured_image_overridable&&(0,i.jsxs)(r.PanelBody,{title:(0,c.__)("Uitgelichte afbeelding",f),initialOpen:!1,children:[(0,i.jsx)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"12px"},children:"Overschrijf de uitgelichte afbeelding van deze page part specifiek voor deze pagina."}),(0,i.jsx)(n.MediaUploadCheck,{children:(0,i.jsx)(n.MediaUpload,{onSelect:e=>{const n={...a};n._override_thumbnail_id=e.id,t({overrides:n})},allowedTypes:["image"],value:a._override_thumbnail_id||"",render:({open:e})=>(0,i.jsxs)("div",{children:[P&&(0,i.jsx)("div",{style:{marginBottom:"12px",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",maxWidth:"200px"},children:(0,i.jsx)("img",{src:P.media_details?.sizes?.medium?.source_url||P.media_details?.sizes?.thumbnail?.source_url||P.source_url,style:{width:"100%",height:"auto",display:"block"},alt:""})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,i.jsx)(r.Button,{variant:"secondary",onClick:e,children:P?(0,c.__)("Wijzig afbeelding",f):(0,c.__)("Selecteer afbeelding",f)}),P&&(0,i.jsx)(r.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{const e={...a};delete e._override_thumbnail_id,t({overrides:e})},children:(0,c.__)("Verwijder override",f)})]})]})})})]}),0===o?(0,i.jsx)("div",{style:{padding:"40px 20px",textAlign:"center",backgroundColor:"#f0f0f1",border:"1px dashed #ccc"},children:(0,i.jsx)("p",{style:{margin:0,color:"#666"},children:(0,c.__)("Selecteer een Page Part om de preview te zien",f)})}):(0,i.jsxs)("div",{style:{marginTop:"15px",border:"1px solid rgba(0,0,0,0.6)",borderRadius:"10px",padding:"0",boxSizing:"border-box",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.1)",borderBottom:"1px solid rgba(0,0,0,0.6)",padding:"8px 12px",fontSize:"12px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,i.jsx)("strong",{children:"Preview:"}),(0,i.jsx)("span",{children:k?.title.rendered||`ID ${o}`}),(0,i.jsx)("a",{href:`/wp-admin/post.php?post=${o}&action=edit`,target:"_blank",title:" Bewerk deze Page Part (in nieuw tabblad)",rel:"noopener noreferrer",style:{color:"#8cf",textDecoration:"none",marginLeft:"auto"},children:(0,i.jsx)(r.Icon,{icon:l})})]}),(0,i.jsx)("iframe",{ref:T,src:M,style:{width:"100%",height:`${D}px`,flexShrink:0}})]})]})]})]})},save:()=>null})})();