(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.wp.blockEditor,o=window.wp.components,r=window.ReactJSXRuntime,i=window.wp.primitives;var s=(0,r.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(i.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})});const l=window.wp.data,a=window.wp.i18n,d=window.wp.element,c=({value:e,onChange:t,icons:n})=>{const[i,s]=(0,d.useState)(!1),[l,a]=(0,d.useState)(""),c=(0,d.useRef)(null),p=Object.entries(n).flatMap(e=>Object.entries(e[1]).map(t=>({name:t[0],svg:t[1],category:e[0]}))),h=p.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())),g=p.find(t=>t.name===e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{children:"\n        svg.nok-icon {\n            width: 100%;\n            height: 100%;\n            display: block;\n        }\n    "}),(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"8px"},children:"Icon"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("div",{ref:c,onClick:()=>s(!i),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",background:"#fff",minHeight:"40px"},children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{width:"24px",height:"24px",flexShrink:0},dangerouslySetInnerHTML:{__html:g.svg}}),(0,r.jsx)("span",{style:{fontSize:"13px"},children:g.name})]}):(0,r.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:"Select an icon..."})}),g&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),t("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#d63638",color:"#fff",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",fontWeight:"500"},title:"Clear icon",children:"Ã—"})]}),i&&(0,r.jsx)(o.Popover,{anchor:c.current,onClose:()=>{s(!1),a("")},placement:"bottom-start",shift:!0,resize:!0,children:(0,r.jsxs)("div",{style:{background:"#fff",maxHeight:"400px",width:"280px",overflow:"hidden"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search icons...",value:l,onChange:e=>a(e.target.value),style:{width:"100%",padding:"8px",border:"none",borderBottom:"1px solid #ddd",fontSize:"13px",outline:"none",boxSizing:"border-box"},autoFocus:!0}),(0,r.jsx)("div",{style:{overflowY:"auto",maxHeight:"350px",padding:"8px"},children:0===h.length?(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#757575",fontSize:"13px"},children:"No icons found"}):(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:h.map(n=>(0,r.jsx)("div",{onClick:()=>{t(n.name),s(!1),a("")},title:n.name,style:{padding:"2px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:e===n.name?"#e0f0ff":"#fff",transition:"all 0.15s",aspectRatio:"1"},onMouseEnter:t=>{e!==n.name&&(t.currentTarget.style.background="#f5f5f5")},onMouseLeave:t=>{e!==n.name&&(t.currentTarget.style.background="#fff")},children:(0,r.jsx)("div",{style:{width:"3em",height:"3em"},dangerouslySetInnerHTML:{__html:n.svg}})},n.name))})})]})})]})]})},p=window.wp.apiFetch;var h=e.n(p);const g=({taxonomy:e,value:t,onChange:n,multiple:i=!0,label:s})=>{const[l,a]=(0,d.useState)([]),[c,p]=(0,d.useState)(!0),g=t?t.split(",").map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e)):[];return(0,d.useEffect)(()=>{p(!0),h()({path:`/wp/v2/${e}?per_page=100&orderby=name&order=asc`}).then(e=>{a(e),p(!1)}).catch(e=>{console.error("Failed to fetch taxonomy terms:",e),p(!1)})},[e]),c?(0,r.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"CategorieÃ«n laden..."}):0===l.length?(0,r.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"Geen categorieÃ«n gevonden."}):(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[s&&(0,r.jsx)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"8px",color:"#1e1e1e"},children:s}),(0,r.jsx)("p",{style:{fontSize:"11px",color:"#666",marginBottom:"8px"},children:0===g.length?"Alle categorieÃ«n (geen filter)":`${g.length} categorie${1!==g.length?"Ã«n":""} geselecteerd`}),(0,r.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",backgroundColor:"#fff"},children:l.map(e=>(0,r.jsx)(o.CheckboxControl,{label:e.name,checked:g.includes(e.id),onChange:t=>((e,t)=>{let o;o=i?t?[...g,e]:g.filter(t=>t!==e):t?[e]:[],n(o.length>0?o.join(","):"")})(e.id,t),__nextHasNoMarginBottom:!0},e.id))}),g.length>0&&(0,r.jsx)(o.Button,{variant:"link",isDestructive:!0,onClick:()=>n(""),style:{marginTop:"8px",fontSize:"12px"},children:"Selectie wissen (alle tonen)"})]})},x=({value:e,onChange:t,palette:n})=>{const[i,s]=(0,d.useState)(!1),[l,a]=(0,d.useState)(""),c=(0,d.useRef)(null),p=(window.PagePartDesignSettings?.colorPalettes||{})[n]||[],h=p.filter(e=>e.label.toLowerCase().includes(l.toLowerCase())),g=p.find(t=>t.value===e),x=(e,t="24px")=>{const n=!e||"transparent"===e||"inherit"===e;return(0,r.jsx)("div",{style:{width:t,height:t,borderRadius:"4px",border:"1px solid #ccc",flexShrink:0,background:n?"repeating-linear-gradient(45deg, #fff, #fff 4px, #eee 4px, #eee 8px)":e,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}})};return(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("div",{ref:c,onClick:()=>s(!i),style:{border:"1px solid #ddd",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",background:"#fff",minHeight:"40px"},children:g?(0,r.jsxs)(r.Fragment,{children:[x(g.color),(0,r.jsx)("span",{style:{fontSize:"13px"},children:g.label})]}):e?(0,r.jsxs)(r.Fragment,{children:[x(null),(0,r.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:e})]}):(0,r.jsx)("span",{style:{fontSize:"13px",color:"#757575"},children:"Selecteer kleur..."})}),g&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),t("")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#d63638",color:"#fff",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",fontWeight:"500"},title:"Wis selectie",children:"Ã—"})]}),i&&(0,r.jsx)(o.Popover,{anchor:c.current,onClose:()=>{s(!1),a("")},placement:"bottom-start",shift:!0,resize:!0,children:(0,r.jsxs)("div",{style:{background:"#fff",maxHeight:"400px",width:"280px",overflow:"hidden"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Zoek kleur...",value:l,onChange:e=>a(e.target.value),style:{width:"100%",padding:"8px",border:"none",borderBottom:"1px solid #ddd",fontSize:"13px",outline:"none",boxSizing:"border-box"},autoFocus:!0}),(0,r.jsx)("div",{style:{overflowY:"auto",maxHeight:"350px",padding:"8px"},children:0===h.length?(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#757575",fontSize:"13px"},children:"Geen kleuren gevonden"}):(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:h.map(n=>(0,r.jsxs)("div",{onClick:()=>{t(n.value),s(!1),a("")},title:n.label,style:{padding:"4px",border:e===n.value?"2px solid #007cba":"1px solid #ddd",borderRadius:"4px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",background:e===n.value?"#e0f0ff":"#fff",transition:"all 0.15s",minHeight:"50px"},onMouseEnter:t=>{e!==n.value&&(t.currentTarget.style.background="#f5f5f5")},onMouseLeave:t=>{e!==n.value&&(t.currentTarget.style.background="#fff")},children:[x(n.color,"32px"),(0,r.jsx)("span",{style:{fontSize:"10px",textAlign:"center",lineHeight:"1.2",color:"#333",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.label})]},n.value||"empty"))})})]})})]})},u={degsteps:60,startsat:100,startbri:100,startdeg:0,gradsteps:10,paletlim:[0,360]},b=new class{constructor(e,t,n,o,r,i){this.startdeg=null!=o?o:u.startdeg,this.degsteps=null!=e?e:u.degsteps,this.startsat=null!=t?t:u.startsat,this.startbri=null!=n?n:u.startbri,this.gradsteps=r&&r>1?r:u.gradsteps,this.paletlim=null!=i?i:u.paletlim,this.calls=0,this.color=null,this.deg=0,this.cyc=0,this.bri=100,this.sat=100,this.opa=1}new(e,t){return this.color=this._generateColor(e,t),this.string=this.color.string,this.values=this.color.values,this.contra=this.color.contra,this.hex=this._rgbToHex(this.color.values),this.calls++,this}adjust(e){var t,n,o,r;const i=null!==(t=e.deg)&&void 0!==t?t:0,s=null!==(n=e.sat)&&void 0!==n?n:this.sat,l=null!==(o=e.bri)&&void 0!==o?o:this.bri,a=null!==(r=e.opa)&&void 0!==r?r:this.opa,d=(this.deg+i)%this.paletlim[1],c=this._clamp(l<=1&&l>0?this.bri*l:l,0,100),p=this._clamp(s<=1&&s>0?this.sat*s:s,0,100),h=this._clamp(a,0,1);return this._hsvToRgb(d,p,c,h)}_generateColor(e,t){let n=!1;if("string"==typeof e)if("#"===e[0]){const t=this._hslToHsv(this._hexToHsl(e));this.deg=t[0],this.sat=t[1],this.bri=t[2],n=!0}else this.deg=this._stringToDegrees(e);else this.startdeg=Math.max(this.startdeg,this.paletlim[0]),this.deg=this.startdeg+this.calls*this.degsteps;if(this.cyc=Math.floor(this.deg/this.paletlim[1]),!n&&(this.bri=e&&e>0?e:this.startbri,this.sat=t&&t>0?t:this.startsat,this.bri=Math.abs(this.bri%101),this.sat=Math.abs(this.sat%101),this.deg=this.deg%(this.paletlim[1]+1),this.deg=Math.max(this.deg,this.paletlim[0]),this.paletlim[0]%this.degsteps===0&&this.cyc>0)){const t=this.cyc*this.gradsteps;this.bri=e&&e>0?e:this.startbri-t,t>=100&&(this.cyc=0,this.gradsteps=this.gradsteps/2)}return this._hsvToRgb(this.deg,this.sat,this.bri)}_stringToDegrees(e){const t=[...e].reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0);return Math.abs(t)%360}_hsvToRgb(e,t,n,o){e/=360,t/=100,n/=100,o=void 0!==o?parseFloat(o):void 0;const r=Math.floor(6*e),i=6*e-r,s=n*(1-t),l=n*(1-i*t),a=n*(1-(1-i)*t);let d,c,p;switch(r%6){case 0:d=n,c=a,p=s;break;case 1:d=l,c=n,p=s;break;case 2:d=s,c=n,p=a;break;case 3:d=s,c=l,p=n;break;case 4:d=a,c=s,p=n;break;case 5:d=n,c=s,p=l}const h=[Math.round(255*d),Math.round(255*c),Math.round(255*p)],g=void 0!==o?"rgba":"rgb";return void 0!==o&&h.push(o),{values:h,string:`${g}(${h.join(",")})`,hex:this._rgbToHex(h),contra:this._textContrast(h)}}_hexToHsl(e){const t=this._hexToRgb(e),n=t[0]/255,o=t[1]/255,r=t[2]/255,i=Math.min(n,o,r),s=Math.max(n,o,r),l=s-i;let a=0;0!==l&&(a=s===n?(o-r)/l%6:s===o?(r-n)/l+2:(n-o)/l+4),a=Math.round(60*a),a<0&&(a+=360);const d=(s+i)/2;return[a,+(100*(0===l?0:l/(1-Math.abs(2*d-1)))).toFixed(1),+(100*d).toFixed(1)]}_hslToHsv(e){const t=e[1]*(e[2]<50?e[2]:100-e[2])/100,n=0===t?0:2*t/(e[2]+t)*100,o=e[2]+t;return[e[0],n,o]}_hexToRgb(e){return e.match(/\w\w/g).map(e=>+`0x${e}`)}_rgbToHex(e){return"#"+e.slice(0,3).map(e=>e.toString(16).padStart(2,"0")).join("")}_textContrast(e){return Math.round((299*parseInt(e[0])+587*parseInt(e[1])+114*parseInt(e[2]))/1e3)>125?"rgb(0,0,0)":"rgb(255,255,255)"}_clamp(e,t,n){return Math.min(Math.max(e,t),n)}},m="nok-2025-v1",f=({value:e,options:t,onChange:n,onOpen:i})=>{const[s,l]=(0,d.useState)(!1),[a,c]=(0,d.useState)(null),[p,h]=(0,d.useState)(""),g=(0,d.useRef)(),x=(0,d.useRef)(),u=t.find(t=>t.value===e);(0,d.useEffect)(()=>{s&&x.current&&setTimeout(()=>x.current?.focus(),50)},[s]);const m=(e,t)=>{if(!t)return{matches:!0,score:0,indices:[]};const n=e.toLowerCase(),o=t.toLowerCase();let r=0,i=0;const s=[];let l=0;for(;r<o.length&&i<n.length;)o[r]===n[i]&&(s.push(i),l+=100-i,r++),i++;return{matches:r===o.length,score:l,indices:s}},f=p?t.map(e=>{const t=m(e.label.replace(/<[^>]*>/g,""),p),n=m(e.template||"",p),o=t.score>n.score?t:n;return{...e,matchData:o,searchScore:o.score}}).filter(e=>e.matchData.matches).sort((e,t)=>t.searchScore-e.searchScore):t.filter(e=>0!==e.value);return(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsxs)(o.Button,{ref:g,variant:"secondary",onClick:()=>{const e=!s;l(e),h(""),e&&i&&i()},style:{width:"100%",textAlign:"left",padding:"8px 12px",borderBottom:"1px solid #f0f0f1",borderRadius:"0",justifyContent:"end",color:"inherit"},children:[(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:u?.label||"Select Page Part..."},style:{flexBasis:"100%"}}),u?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:`${u.template}`},style:{padding:"2px 6px",backgroundColor:b.new(u.template).string,borderRadius:"6px",fontSize:"1em",color:b.new(u.template).contra,marginLeft:"auto"}}):null]}),s&&(0,r.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999},children:[(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"transparent"},onClick:()=>l(!1)}),(0,r.jsxs)("div",{style:{position:"absolute",top:g.current?.getBoundingClientRect().bottom+window.scrollY,left:g.current?.getBoundingClientRect().left+window.scrollX,width:g.current?.offsetWidth||"auto",maxHeight:"400px",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"2px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",zIndex:1e5,display:"flex",flexDirection:"column"},children:[(0,r.jsx)("div",{style:{padding:"8px",borderBottom:"1px solid #ddd",position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:(0,r.jsx)("input",{ref:x,type:"text",placeholder:"Zoek page part...",value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{"Escape"===e.key?l(!1):"Enter"===e.key&&f.length>0&&(n(f[0].value),l(!1))},style:{width:"100%",padding:"6px 8px",border:"1px solid #ccc",borderRadius:"3px",fontSize:"13px",outline:"none"}})}),(0,r.jsx)("div",{style:{overflowY:"auto",maxHeight:"300px"},children:0===f.length?(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#666",fontSize:"13px"},children:"Geen resultaten gevonden"}):f.map(t=>{const i=b.new(t.template),s=m(t.label.replace(/<[^>]*>/g,""),p),d=p?((e,t)=>{if(!t||0===t.length)return e;const n=e.replace(/<[^>]*>/g,"");let o="",r=0;return t.forEach(e=>{o+=n.slice(r,e),o+=`<mark style="background: #ffd700; padding: 0; font-weight: bold;">${n[e]}</mark>`,r=e+1}),o+=n.slice(r),o})(t.label,s.indices):t.label;return(0,r.jsxs)(o.Button,{onClick:()=>{n(t.value),l(!1)},onMouseEnter:()=>c(t.value),onMouseLeave:()=>c(null),style:{width:"100%",textAlign:"left",padding:"8px 12px",border:"none",borderBottom:"1px solid #f0f0f1",borderRadius:"0",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",justifyContent:"space-between",backgroundColor:t.value===e?"var(--wp-admin-theme-color)":a===t.value?"#e6f3ff":"transparent",color:t.value===e?"white":"inherit"},children:[(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:d}}),t.value?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:`${t.template}`},style:{padding:"2px 6px",backgroundColor:i.adjust({sat:.7}).string,borderRadius:"6px",fontSize:"1em",color:i.contra}}):null]},t.value)})})]})]})]})};(0,t.registerBlockType)("nok2025/embed-nok-page-part",{attributes:{postId:{type:"number",default:0},overrides:{type:"object",default:{}},excludeFromSeo:{type:"boolean",default:!1}},edit:({attributes:e,setAttributes:t})=>{const{postId:i,overrides:p,excludeFromSeo:h}=e,{invalidateResolution:u}=(0,l.useDispatch)("core"),b=(0,l.useSelect)(e=>e("core").getEntityRecords("postType","page_part",{per_page:-1,_embed:!0,orderby:"modified",order:"desc"}),[])||[],v="undefined"!=typeof window&&window.PagePartDesignSettings&&window.PagePartDesignSettings.registry||{},y=b.find(e=>e.id===i),w=y?.title?.rendered||"",j=v[y?.meta?.design_slug||""]||{},_=(j.custom_fields||[]).filter(e=>e.page_editable),k=(0,l.useSelect)(e=>{const t=p._override_thumbnail_id;return t?e("core").getMedia(t):null},[p._override_thumbnail_id]),S=[{label:(0,a.__)(" - Selecteer Page Part blokâ€¦ - ",m),value:0},...b.map(e=>{const t=e.meta&&e.meta.design_slug||"",n=v[t]&&v[t].name?v[t].name:t||"Unknown";return{label:`${e.title.rendered}`,template:n,value:e.id}})],C=i?`/wp-json/nok-2025-v1/v1/embed-page-part/${i}?${new URLSearchParams(Object.entries(p).map(([e,t])=>[e,t])).toString()}`:"",z=(0,d.useRef)(null),[P,B]=(0,d.useState)(400);return(0,d.useEffect)(()=>{const e=z.current;if(!e)return;let t;const n=()=>{try{const t=e.contentDocument||e.contentWindow.document,n=Math.max(t.documentElement.scrollHeight,t.body.scrollHeight);B(n)}catch(e){}},o=()=>{n();try{const t=(e.contentDocument||e.contentWindow.document).querySelector('meta[name="yoast-content"]');if(t&&i){const e=t.getAttribute("content");window.nokPagePartData=window.nokPagePartData||{},window.nokPagePartData[i]=e,window.nokYoastIntegration?.debug&&console.log(`[Yoast] Stored content for part ${i}:`,e.length,"chars")}}catch(e){}t&&(t.disconnect(),t=null),e.contentDocument&&e.contentDocument.body&&(t=new MutationObserver(n),t.observe(e.contentDocument.body,{childList:!0,subtree:!0,attributes:!0}))};return e.addEventListener("load",o),()=>{e.removeEventListener("load",o),t&&t.disconnect()}},[i]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.BlockControls,{}),(0,r.jsxs)("div",{...(0,n.useBlockProps)(),style:{position:"relative",width:"100%",marginBottom:"15px",maxWidth:"100%",padding:"15px 3vw",boxSizing:"border-box"},children:[h&&(0,r.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#f0f0f1",padding:"4px 8px",borderRadius:"3px",fontSize:"11px",color:"#666",zIndex:10,border:"1px solid #ddd"},children:"ðŸš« SEO uitgesloten"}),(0,r.jsxs)(o.PanelBody,{title:(0,a.__)("NOK Page Part Blok",m)+(w?` - ${w}`:""),initialOpen:!0,children:[(0,r.jsx)(f,{label:(0,a.__)("Selecteer een Page Part uit de lijst",m),value:i,options:S,onChange:e=>t({postId:parseInt(e,10)}),onOpen:()=>{u("getEntityRecords",["postType","page_part",{per_page:-1,_embed:!0,orderby:"modified",order:"desc"}])}}),0!==i&&(0,r.jsx)(o.PanelBody,{title:(0,a.__)("SEO Instellingen",m),initialOpen:!1,children:(0,r.jsx)(o.CheckboxControl,{label:(0,a.__)("Meenemen in SEO analyse",m),help:(0,a.__)("Schakel uit om deze page part uit te sluiten van Yoast SEO analyse",m),checked:!h,onChange:e=>{t({excludeFromSeo:!e}),window.nokYoastIntegration?.debug&&console.log(`[Yoast] Part ${i} SEO exclusion changed to:`,!e)}})}),0!==i&&(0,r.jsxs)(o.PanelBody,{title:(0,a.__)("Pagina-afhankelijke overrides",m),initialOpen:!1,children:[(0,r.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"12px"},children:["Overschrijf titel of inhoud specifiek voor deze pagina.",_.length>0&&" Deze page part biedt ook extra velden die overschreven kunnen worden."]}),(0,r.jsx)(o.TextControl,{label:(0,a.__)("Alternatieve titel",m),value:p._override_title||"",onChange:e=>{const n={...p};""===e?delete n._override_title:n._override_title=e,t({overrides:n})},placeholder:"â€” Gebruik originele titel â€”"}),(0,r.jsx)(o.TextareaControl,{label:(0,a.__)("Alternatieve inhoud",m),value:p._override_content||"",onChange:e=>{const n={...p};""===e?delete n._override_content:n._override_content=e,t({overrides:n})},placeholder:"â€” Gebruik originele inhoud â€”",rows:4}),_.map(e=>{const n=p[e.meta_key]||"",i=n=>{const o={...p};""===n||null===n?delete o[e.meta_key]:o[e.meta_key]=n,t({overrides:o})};switch(e.type){case"icon-selector":const t=window.PagePartDesignSettings?.icons||{};return(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#666"},children:["Override ",e.label]}),n&&(0,r.jsx)("button",{onClick:()=>i(""),style:{fontSize:"11px",color:"#d63638",background:"none",border:"none",padding:"0",marginBottom:"8px",cursor:"pointer",textDecoration:"underline"},children:"Clear override (gebruik de ingestelde waarde)"}),(0,r.jsx)(c,{value:n,icons:t,onChange:i})]},e.meta_key);case"color-selector":return(0,r.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#666"},children:["Override ",e.label]}),n&&(0,r.jsx)("button",{onClick:()=>i(""),style:{fontSize:"11px",color:"#d63638",background:"none",border:"none",padding:"0",marginBottom:"8px",cursor:"pointer",textDecoration:"underline"},children:"Clear override (gebruik de ingestelde waarde)"}),(0,r.jsx)(x,{value:n,palette:e.palette,onChange:i})]},e.meta_key);case"select":const s=e.options||[],l=e.option_labels||s;return(0,r.jsx)(o.SelectControl,{label:`Override ${e.label}`,value:n,options:[{label:"â€” Gebruik de ingestelde waarde â€”",value:""},...s.map((e,t)=>({label:l[t]||e,value:e}))],onChange:i},e.meta_key);case"checkbox":return(0,r.jsx)(o.SelectControl,{label:`Override ${e.label}`,value:n,options:[{label:"â€” Gebruik de ingestelde waarde â€”",value:""},{label:"Ja",value:"1"},{label:"Nee",value:"0"}],onChange:i},e.meta_key);case"taxonomy":return(0,r.jsx)(g,{taxonomy:e.taxonomy,value:n,onChange:i,multiple:!1!==e.multiple,label:`Override ${e.label}`},e.meta_key);case"text":case"url":return(0,r.jsx)(o.TextControl,{label:`Override ${e.label}`,value:n,onChange:i,placeholder:"â€” Gebruik de ingestelde waarde â€”"},e.meta_key);default:return null}})]}),0!==i&&j.featured_image_overridable&&(0,r.jsxs)(o.PanelBody,{title:(0,a.__)("Uitgelichte afbeelding",m),initialOpen:!1,children:[(0,r.jsx)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"12px"},children:"Overschrijf de uitgelichte afbeelding van deze page part specifiek voor deze pagina."}),(0,r.jsx)(n.MediaUploadCheck,{children:(0,r.jsx)(n.MediaUpload,{onSelect:e=>{const n={...p};n._override_thumbnail_id=e.id,t({overrides:n})},allowedTypes:["image"],value:p._override_thumbnail_id||"",render:({open:e})=>(0,r.jsxs)("div",{children:[k&&(0,r.jsx)("div",{style:{marginBottom:"12px",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",maxWidth:"200px"},children:(0,r.jsx)("img",{src:k.media_details?.sizes?.medium?.source_url||k.media_details?.sizes?.thumbnail?.source_url||k.source_url,style:{width:"100%",height:"auto",display:"block"},alt:""})}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,r.jsx)(o.Button,{variant:"secondary",onClick:e,children:k?(0,a.__)("Wijzig afbeelding",m):(0,a.__)("Selecteer afbeelding",m)}),k&&(0,r.jsx)(o.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{const e={...p};delete e._override_thumbnail_id,t({overrides:e})},children:(0,a.__)("Verwijder override",m)})]})]})})})]}),0===i?(0,r.jsx)("div",{style:{padding:"40px 20px",textAlign:"center",backgroundColor:"#f0f0f1",border:"1px dashed #ccc"},children:(0,r.jsx)("p",{style:{margin:0,color:"#666"},children:(0,a.__)("Selecteer een Page Part om de preview te zien",m)})}):(0,r.jsxs)("div",{style:{marginTop:"15px",border:"1px solid rgba(0,0,0,0.6)",borderRadius:"10px",padding:"0",boxSizing:"border-box",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,r.jsxs)("div",{style:{background:"rgba(0,0,0,0.1)",borderBottom:"1px solid rgba(0,0,0,0.6)",padding:"8px 12px",fontSize:"12px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)("strong",{children:"Preview:"}),(0,r.jsx)("span",{children:y?.title.rendered||`ID ${i}`}),(0,r.jsx)("a",{href:`/wp-admin/post.php?post=${i}&action=edit`,target:"_blank",title:" Bewerk deze Page Part (in nieuw tabblad)",rel:"noopener noreferrer",style:{color:"#8cf",textDecoration:"none",marginLeft:"auto"},children:(0,r.jsx)(o.Icon,{icon:s})})]}),(0,r.jsx)("iframe",{ref:z,src:C,style:{width:"100%",height:`${P}px`,flexShrink:0}})]})]})]})]})},save:()=>null})})();