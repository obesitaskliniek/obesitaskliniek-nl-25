(()=>{"use strict";const e=window.wp.blocks,o=window.wp.blockEditor,l=window.wp.components,t=window.wp.i18n,i=window.ReactJSXRuntime,s=window.wp.primitives;var n=(0,i.jsx)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(s.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"})});const a="nok-2025-v1";(0,e.registerBlockType)("nok2025/embed-nok-video",{edit:({attributes:e,setAttributes:s})=>{const{videoUrl:c,videoType:d,title:r,description:v}=e,h=(0,o.useBlockProps)({className:"nok-video-block"}),u=()=>{if(!c)return(0,i.jsx)(l.Placeholder,{icon:(0,i.jsx)(o.BlockIcon,{icon:n}),label:"NOK Video",instructions:"Voer een video URL in",className:"nok-video-block__placeholder",children:(0,i.jsxs)("div",{style:{width:"100%",maxWidth:"400px"},children:[(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Video Type",a),value:d,options:[{label:"YouTube",value:"youtube"},{label:"Vimeo",value:"vimeo"},{label:"Self-hosted",value:"self"}],onChange:e=>s({videoType:e})}),(0,i.jsx)(l.TextControl,{label:(0,t.__)("Video URL",a),value:c,onChange:e=>s({videoUrl:e}),placeholder:"youtube"===d?"https://www.youtube.com/watch?v=...":"vimeo"===d?"https://vimeo.com/...":"https://..."})]})});let e="";if("youtube"===d){const o=c.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/);o&&(e=`https://www.youtube.com/embed/${o[1]}`)}else if("vimeo"===d){const o=c.match(/vimeo\.com\/(\d+)/);o&&(e=`https://player.vimeo.com/video/${o[1]}`)}else if("self"===d)return(0,i.jsx)("video",{controls:!0,src:c,preload:"metadata",style:{width:"100%",height:"100%"}});return e?(0,i.jsx)("iframe",{src:e,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}):(0,i.jsx)("p",{children:"Video kon niet worden geladen"})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.InspectorControls,{children:[(0,i.jsxs)(l.PanelBody,{title:(0,t.__)("Video Instellingen",a),initialOpen:!0,children:[(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Video Type",a),value:d,options:[{label:"YouTube",value:"youtube"},{label:"Vimeo",value:"vimeo"},{label:"Self-hosted",value:"self"}],onChange:e=>s({videoType:e})}),(0,i.jsx)(l.TextControl,{label:(0,t.__)("Video URL",a),value:c,onChange:e=>s({videoUrl:e}),placeholder:"https://www.youtube.com/watch?v=...",help:"youtube"===d?"YouTube URL (bijv. https://www.youtube.com/watch?v=...)":"vimeo"===d?"Vimeo URL (bijv. https://vimeo.com/...)":"Directe URL naar video bestand"})]}),(0,i.jsxs)(l.PanelBody,{title:(0,t.__)("Tekst",a),initialOpen:!1,children:[(0,i.jsx)(l.TextControl,{label:(0,t.__)("Titel",a),value:r,onChange:e=>s({title:e})}),(0,i.jsx)(l.TextareaControl,{label:(0,t.__)("Beschrijving",a),value:v,onChange:e=>s({description:e}),rows:4})]})]}),(0,i.jsx)("div",{...h,children:(0,i.jsxs)("div",{className:"nok-video-block__content",children:[c?(0,i.jsx)("div",{className:"nok-video-block__video-wrapper",children:u()}):u(),(r||v)&&(0,i.jsxs)("div",{className:"nok-video-block__text",children:[r&&(0,i.jsx)("h2",{className:"nok-fs-giant",children:r}),v&&(0,i.jsx)("div",{className:"nok-fs-body",children:(0,i.jsx)("p",{children:v})})]})]})})]})},save:()=>null})})();