(()=>{"use strict";const e=window.wp.blocks,o=window.wp.blockEditor,l=window.wp.components,t=window.wp.i18n,i=window.ReactJSXRuntime,n=window.wp.primitives;var a=(0,i.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(n.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"})});const r="nok-2025-v1",s=[{label:(0,t.__)("Blauw",r),value:"nok-bg-darkerblue"},{label:(0,t.__)("Wit",r),value:"nok-bg-white nok-dark-bg-darkestblue"},{label:(0,t.__)("Donkerder",r),value:"nok-bg-body--darker"},{label:(0,t.__)("Transparant",r),value:""}],d=[{label:(0,t.__)("Standaard",r),value:"nok-text-contrast"},{label:(0,t.__)("Wit",r),value:"nok-text-white"},{label:(0,t.__)("Blauw",r),value:"nok-text-darkerblue"}],c=[{label:(0,t.__)("Automatisch",r),value:"visibility"},{label:(0,t.__)("Klik om af te spelen",r),value:"click"},{label:(0,t.__)("Klik om fullscreen af te spelen",r),value:"off"}];(0,e.registerBlockType)("nok2025/nok-video-section",{edit:({attributes:e,setAttributes:n})=>{const{videoUrl:u,videoType:p,videoHq:v,videoPoster:h,videoStart:_,autoplay:b,fullSection:x,backgroundColor:g,textColor:w,narrowSection:m}=e,k=(0,o.useBlockProps)({className:"nok-video-section-editor",style:{width:"100%",maxWidth:"100%",padding:"15px 3vw",boxSizing:"border-box"}}),y=s.find(e=>e.value===g)?.label||g;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.InspectorControls,{children:[(0,i.jsxs)(l.PanelBody,{title:(0,t.__)("Video Instellingen",r),initialOpen:!0,children:[(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Video Type",r),value:p,options:[{label:"YouTube",value:"youtube"},{label:"Vimeo",value:"vimeo"},{label:(0,t.__)("Zelf-gehost",r),value:"self"}],onChange:e=>n({videoType:e})}),(0,i.jsx)(l.TextControl,{label:(0,t.__)("Video URL",r),value:u,onChange:e=>n({videoUrl:e}),placeholder:"youtube"===p?"https://www.youtube.com/watch?v=...":"vimeo"===p?"https://vimeo.com/...":"https://..."}),"self"===p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.TextControl,{label:(0,t.__)("Video HQ URL (optioneel)",r),value:v,onChange:e=>n({videoHq:e}),help:(0,t.__)("Hogere kwaliteit video voor fullscreen weergave",r)}),(0,i.jsx)(l.TextControl,{label:(0,t.__)("Poster afbeelding URL (optioneel)",r),value:h,onChange:e=>n({videoPoster:e}),help:(0,t.__)("Afbeelding die wordt getoond voordat de video start",r)}),(0,i.jsx)(l.TextControl,{label:(0,t.__)("Starttijd in seconden (optioneel)",r),value:_,onChange:e=>n({videoStart:e}),placeholder:"0",help:(0,t.__)("Bijv. 2.5 voor start op 2,5 seconden",r)}),(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Autoplay gedrag",r),value:b,options:c,onChange:e=>n({autoplay:e}),help:(0,t.__)("Automatisch: speelt af wanneer zichtbaar. Klik: toont overlay, speelt 1x af bij klik. Uit: alleen poster.",r)})]})]}),(0,i.jsxs)(l.PanelBody,{title:(0,t.__)("Sectie Instellingen",r),initialOpen:!0,children:[(0,i.jsx)(l.ToggleControl,{label:(0,t.__)("Volledige sectie",r),help:(0,t.__)("Bedek de hele sectie tot max 90% van de viewport hoogte",r),checked:x,onChange:e=>n({fullSection:e})}),(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Achtergrondkleur",r),value:g,options:s,onChange:e=>n({backgroundColor:e})}),!x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Tekstkleur",r),value:w,options:d,onChange:e=>n({textColor:e})}),(0,i.jsx)(l.ToggleControl,{label:(0,t.__)("Smalle sectie",r),help:(0,t.__)("Maakt de sectie smaller (max-width beperkt)",r),checked:m,onChange:e=>n({narrowSection:e})})]})]})]}),(0,i.jsxs)("div",{...k,children:[(0,i.jsxs)("div",{className:"nok-video-section-editor__header",style:{padding:"12px 20px",background:"#f0f0f1",border:"1px solid #c3c4c7",borderBottom:"none",borderRadius:"4px 4px 0 0",textAlign:"center"},children:[(0,i.jsx)("strong",{children:(0,t.__)("NOK Video Sectie",r)}),(0,i.jsxs)("div",{style:{fontSize:"12px",marginTop:"4px",color:"#666"},children:[x?(0,t.__)("Volledige sectie",r):(0,t.__)("Inline video",r)," |Â ",(0,t.__)("Achtergrond:",r)," ",y]})]}),(0,i.jsx)("div",{style:{padding:"20px",background:"#fff",border:"1px solid #c3c4c7",borderRadius:"0 0 4px 4px"},children:(()=>{if(!u)return(0,i.jsx)(l.Placeholder,{icon:(0,i.jsx)(o.BlockIcon,{icon:a}),label:(0,t.__)("NOK Video Sectie",r),instructions:(0,t.__)("Voer een video URL in",r),className:"nok-video-section__placeholder",children:(0,i.jsxs)("div",{style:{width:"100%",maxWidth:"400px"},children:[(0,i.jsx)(l.SelectControl,{label:(0,t.__)("Video Type",r),value:p,options:[{label:"YouTube",value:"youtube"},{label:"Vimeo",value:"vimeo"},{label:(0,t.__)("Zelf-gehost",r),value:"self"}],onChange:e=>n({videoType:e})}),(0,i.jsx)(l.TextControl,{label:(0,t.__)("Video URL",r),value:u,onChange:e=>n({videoUrl:e}),placeholder:"youtube"===p?"https://www.youtube.com/watch?v=...":"vimeo"===p?"https://vimeo.com/...":"https://..."})]})});let e="";if("youtube"===p){const o=u.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/);o?e=`https://www.youtube.com/embed/${o[1]}`:/^[a-zA-Z0-9_-]{11}$/.test(u)&&(e=`https://www.youtube.com/embed/${u}`)}else if("vimeo"===p){const o=u.match(/vimeo\.com\/(\d+)/);o&&(e=`https://player.vimeo.com/video/${o[1]}`)}else if("self"===p)return(0,i.jsx)("video",{controls:!0,src:u,poster:h||void 0,preload:"metadata",style:{width:"100%",maxHeight:"400px",objectFit:"contain"}});return e?(0,i.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0},children:(0,i.jsx)("iframe",{src:e,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}):(0,i.jsx)("p",{children:(0,t.__)("Video kon niet worden geladen",r)})})()})]})]})},save:()=>null})})();